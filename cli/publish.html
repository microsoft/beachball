<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>publish | beachball</title><meta name="description" content="The Sunniest Semantic Version Bumper">
    <link rel="preload" href="/beachball/assets/style-_hqNGRiY.css" as="style"><link rel="stylesheet" href="/beachball/assets/style-_hqNGRiY.css">
    <link rel="modulepreload" href="/beachball/assets/app-D77P0e9_.js"><link rel="modulepreload" href="/beachball/assets/publish.html-Cr4aVKsO.js">
    <link rel="prefetch" href="/beachball/assets/index.html-BdU_XwRK.js" as="script"><link rel="prefetch" href="/beachball/assets/bump.html-BIjhWgQ8.js" as="script"><link rel="prefetch" href="/beachball/assets/change.html-CS9U0nm3.js" as="script"><link rel="prefetch" href="/beachball/assets/check.html-CFye_agv.js" as="script"><link rel="prefetch" href="/beachball/assets/options.html-F5cOO444.js" as="script"><link rel="prefetch" href="/beachball/assets/sync.html-D1RZK5PY.js" as="script"><link rel="prefetch" href="/beachball/assets/bump-algorithm.html-Ds8u_eiq.js" as="script"><link rel="prefetch" href="/beachball/assets/change-files.html-Cy7lMcpx.js" as="script"><link rel="prefetch" href="/beachball/assets/ci-integration.html-ByywF8AJ.js" as="script"><link rel="prefetch" href="/beachball/assets/groups.html-BcBlrlkG.js" as="script"><link rel="prefetch" href="/beachball/assets/configuration.html-WlrMo02E.js" as="script"><link rel="prefetch" href="/beachball/assets/getting-started.html-C6imJeHt.js" as="script"><link rel="prefetch" href="/beachball/assets/installation.html-B4FDzLP6.js" as="script"><link rel="prefetch" href="/beachball/assets/404.html-BKFIrlnQ.js" as="script"><link rel="prefetch" href="/beachball/assets/mermaid.esm.min-7ALgrgL0.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/beachball/"><!----><span class="vp-site-name" aria-hidden="true">beachball</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/beachball/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/beachball/overview/getting-started.html" aria-label="Getting started"><!--[--><!--[--><!--]--><!--]-->Getting started<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/microsoft/beachball" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/beachball/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/beachball/overview/getting-started.html" aria-label="Getting started"><!--[--><!--[--><!--]--><!--]-->Getting started<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/microsoft/beachball" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Overview <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/overview/getting-started.html" aria-label="Getting started"><!--[--><!--[--><!--]--><!--]-->Getting started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/overview/installation.html" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/overview/configuration.html" aria-label="Configuration"><!--[--><!--[--><!--]--><!--]-->Configuration<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Concepts <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/concepts/bump-algorithm.html" aria-label="Bump algorithm"><!--[--><!--[--><!--]--><!--]-->Bump algorithm<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/concepts/change-files.html" aria-label="Change files"><!--[--><!--[--><!--]--><!--]-->Change files<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/concepts/ci-integration.html" aria-label="CI integration"><!--[--><!--[--><!--]--><!--]-->CI integration<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/concepts/groups.html" aria-label="Groups"><!--[--><!--[--><!--]--><!--]-->Groups<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">CLI commands <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/cli/options.html" aria-label="Common options"><!--[--><!--[--><!--]--><!--]-->Common options<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/cli/bump.html" aria-label="bump"><!--[--><!--[--><!--]--><!--]-->bump<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/cli/change.html" aria-label="change"><!--[--><!--[--><!--]--><!--]-->change<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/cli/check.html" aria-label="check"><!--[--><!--[--><!--]--><!--]-->check<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/beachball/cli/publish.html" aria-label="publish"><!--[--><!--[--><!--]--><!--]-->publish<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/beachball/cli/sync.html" aria-label="sync"><!--[--><!--[--><!--]--><!--]-->sync<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="publish" tabindex="-1"><a class="header-anchor" href="#publish"><span><code>publish</code></span></a></h1><p>Publishing automates all the bumping and synchronizing of package versions in the git remote as well as the npm registry.</p><h3 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>Options</span></a></h3><p><a href="./options">General options</a> also apply for this command.</p><table><thead><tr><th>Option</th><th>Alias</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>--auth-type</code></td><td><code>-a</code></td><td><code>&#39;authtoken&#39;</code></td><td>npm auth type: <code>&#39;authtoken&#39;</code> or <code>&#39;password&#39;</code></td></tr><tr><td><code>--git-tags</code>, <code>--no-git-tags</code></td><td></td><td><code>true</code> (<code>--git-tags</code>)</td><td>whether to create git tags for published package versions</td></tr><tr><td><code>--keep-change-files</code></td><td></td><td></td><td>don&#39;t delete the change files from disk after bumping</td></tr><tr><td><code>--message</code></td><td><code>-m</code></td><td><code>&#39;applying package updates&#39;</code></td><td>custom commit message</td></tr><tr><td><code>--prerelease-prefix</code></td><td></td><td></td><td>prerelease prefix (e.g. <code>beta</code>) for packages that will receive a prerelease bump</td></tr><tr><td><code>--publish</code>, <code>--no-publish</code></td><td></td><td><code>true</code> (<code>--publish</code>)</td><td>whether to publish to the npm registry</td></tr><tr><td><code>--push</code>, <code>--no-push</code></td><td></td><td><code>true</code> (<code>--push</code>)</td><td>whether to commit changes and push them back to the git remote</td></tr><tr><td><code>--registry</code></td><td><code>-r</code></td><td><code>&#39;https://registry.npmjs.org&#39;</code></td><td>npm registry for publishing</td></tr><tr><td><code>--retries</code></td><td></td><td><code>3</code></td><td>number of retries for a package publish before failing</td></tr><tr><td><code>--tag</code></td><td><code>-t</code></td><td><code>&#39;latest&#39;</code></td><td>dist-tag for npm publishes</td></tr><tr><td><code>--token</code></td><td><code>-n</code></td><td></td><td>credential to use with npm commands (type specified by <code>--auth-type</code>)</td></tr><tr><td><code>--verbose</code></td><td></td><td><code>false</code></td><td>prints additional information to the console</td></tr><tr><td><code>--yes</code></td><td><code>-y</code></td><td>if CI detected, <code>true</code></td><td>skips the prompts for publish</td></tr></tbody></table><h3 id="algorithm" tabindex="-1"><a class="header-anchor" href="#algorithm"><span>Algorithm</span></a></h3><p>The <code>publish</code> command is designed to run steps in an order that minimizes the chances of mid-publish failure by doing validation upfront.</p><p><code>beachball publish</code> performs the following steps:</p><ol><li>Validate that options and change files are valid</li><li>Bump and publish to npm (unless disabled): <ol><li>Bump the package versions locally</li><li>Generate the changelog files (unless disabled)</li><li>Delete change files locally (unless disabled)</li><li>Validate that nothing to be published depends on a private package</li><li>Publish packages to npm in topological order based on the dependency graph (to reduce the chances that if there&#39;s a failure partway through, a published package might require unpublished versions)</li></ol></li><li>Bump and push to git (unless bumping or pushing is disabled): <ol><li>Revert any previous changes (from the publish step)</li><li>Merge the latest changes from the remote branch to avoid merge conflicts (unless fetching is disabled)</li><li>Bump the versions locally</li><li>Generate the changelog files (unless disabled)</li><li>Delete change files locally (unless disabled)</li><li>Commit the changes</li><li>Create git tags for new package versions (unless disabled)</li><li>Push the changes and tags</li></ol></li></ol><p>It might be surprising that <code>beachball publish</code> does so many steps, especially the step about reverting changes! In most version bumping systems that automate syncing the git repo and npm registry, they assume that the source code is still fresh once it&#39;s time to push changes back to the git repository. This is rarely the case for large repos with many developers. So, <code>beachball</code> fetches the latest changes before pushing back to the target branch to avoid merge conflicts.</p><h3 id="example-ci-workflow" tabindex="-1"><a class="header-anchor" href="#example-ci-workflow"><span>Example CI workflow</span></a></h3><p>See the <a href="../concepts/ci-integration">CI integration page</a> details and examples for how to run <code>beachball publish</code> in CI.</p><h3 id="recovering-from-failed-publish" tabindex="-1"><a class="header-anchor" href="#recovering-from-failed-publish"><span>Recovering from failed publish</span></a></h3><p>If the <code>publish</code> command fails partway through, after some versions have been published to the registry, you&#39;ll need to run <a href="./sync"><code>beachball sync</code></a> and commit the changes.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-04-01T06:54:04.000Z" data-allow-mismatch>4/1/25, 6:54 AM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 49699333+dependabot[bot]@users.noreply.github.com">dependabot[bot]</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/beachball/cli/check.html" aria-label="check"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">check</span></div><!--]--></a><a class="route-link auto-link next" href="/beachball/cli/sync.html" aria-label="sync"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">sync</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/beachball/assets/app-D77P0e9_.js" defer></script>
  </body>
</html>
